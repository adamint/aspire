@using Aspire.Dashboard.Resources
@using Aspire.Dashboard.Model
@namespace Aspire.Dashboard.Components
@inject IStringLocalizer<Columns> Loc

@if (UnviewedCount > 0)
{
    <FluentButton title="@string.Format(Loc[UnviewedCount == 1 ? nameof(Columns.UnreadLogErrorsBadgeErrorLog) : nameof(Columns.UnreadLogErrorsBadgeErrorLogs)], UnviewedCount)"
                  Appearance="Appearance.Stealth"
                  BackgroundColor="var(--error)"
                  Style="padding-left: 3px;"
                  OnClick="@(() => ViewResourceErrorStructuredLogsUrl(Resource))">
        @(UnviewedCount > 9 ? "9+" : UnviewedCount.ToString())
    </FluentButton>
}

@code {
    [Parameter, EditorRequired]
    public required ResourceViewModel Resource { get; set; }

    [Parameter]
    public int UnviewedCount { get; set; }
}
