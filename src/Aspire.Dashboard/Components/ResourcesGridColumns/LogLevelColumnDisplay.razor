@namespace Aspire.Dashboard.Components

@using Aspire.Dashboard.Otlp.Model
@using Microsoft.Extensions.Logging

@{
    var id = Guid.NewGuid().ToString();
}

@if (LogEntry.Severity is LogLevel.Error or LogLevel.Critical)
{
    <FluentIcon Id="@id" Icon="Icons.Filled.Size16.ErrorCircle" Color="Color.Error" Class="severity-icon"/>
}
else if (LogEntry.Severity is LogLevel.Warning)
{
    <FluentIcon Id="@id" Icon="Icons.Filled.Size16.Warning" Color="Color.Warning" Class="severity-icon"/>
}

@if (GetErrorInformation() is { } errorInformation)
{
    <FluentTooltip Anchor="@id">
        @errorInformation
    </FluentTooltip>
}

@LogEntry.Severity

@code {
    [Parameter, EditorRequired]
    public required OtlpLogEntry LogEntry { get; set; }
}
